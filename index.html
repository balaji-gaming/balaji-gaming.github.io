<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Balaji Gaming Lucky Draw Game</title>

<style>
:root{
  --gold:#facc15;
  --blue:#1e40af;
  --blue-hover:#1d4ed8;
}

*{ box-sizing:border-box; transition:.25s ease; }

body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  background:#020617;
  color:#fff;
  text-align:center;
  overflow-x:hidden;
}

.site-logo{ margin-top:12px; width:100px; }

/* RIBBON */
.promo-ribbon{
  width:100%; overflow:hidden; margin:14px 0;
  background:linear-gradient(90deg,#f59e0b,#fde68a,#f59e0b);
  box-shadow:0 0 16px rgba(250,204,21,.5);
}
.ribbon-track{
  display:inline-flex; white-space:nowrap;
  padding:10px 0; font-size:14px; font-weight:700;
  color:#020617;
  animation:ribbonScroll 35s linear infinite;
}
@keyframes ribbonScroll{ to{transform:translateX(-50%)} }

/* HEADING */
h1{ margin:12px 0; }

/* INPUTS */
input{
  padding:12px; margin:8px; width:260px;
  border-radius:8px; border:none; outline:none;
}

/* BUTTON */
button{
  padding:14px 34px;
  background:var(--blue);
  color:#fff;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  box-shadow:0 8px 24px rgba(30,64,175,.45);
}
button:hover{ background:var(--blue-hover); }

/* WHEEL */
.wheel-container{
  position:relative;
  width:320px; height:320px;
  margin:28px auto;
}
.pointer{
  position:absolute; top:-12px; left:50%;
  transform:translateX(-50%) rotate(180deg);
  border-left:16px solid transparent;
  border-right:16px solid transparent;
  border-bottom:26px solid #fff;
  z-index:20;
}
#wheel{
  border-radius:50%;
  border:6px solid #fff;
}
.hub{
  position:absolute;
  width:80px; height:80px;
  background:radial-gradient(circle,#fde68a,#facc15);
  border-radius:50%;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  display:flex; align-items:center; justify-content:center;
}
.hub img{ width:65%; }

/* MODAL */
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(6px);
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none;
  z-index:999;
}
.modal.active{ opacity:1; pointer-events:auto; }

.modal-box{
  background:rgba(255,255,255,.95);
  color:#020617;
  padding:30px;
  border-radius:22px;
  width:90%; max-width:360px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  animation:pop .35s ease;
}
@keyframes pop{
  from{transform:scale(.88);opacity:0}
  to{transform:scale(1);opacity:1}
}
.modal h2{ color:#1e40af; margin-bottom:6px; }
.note{ font-size:13px; opacity:.75; }

/* CONFETTI */
#confettiCanvas{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:1000;
}
</style>
</head>

<body>

<img src="logo.png" class="site-logo">

<div class="promo-ribbon">
  <div class="ribbon-track">
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
  </div>
</div>

<h1>ðŸŽ¡ Balaji Gaming Lucky Draw</h1>

<input id="name" placeholder="Enter your Game ID"><br>
<input id="phone" placeholder="Enter 10-digit phone number"><br>

<div class="wheel-container">
  <div class="pointer"></div>
  <canvas id="wheel" width="320" height="320"></canvas>
  <div class="hub"><img src="logo.png"></div>
</div>

<button onclick="spinWheel()">SPIN</button>

<div class="promo-ribbon">
  <div class="ribbon-track">
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ Christmas Offers Live &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Daily Offers &nbsp;&nbsp;&nbsp;&nbsp;
    â€¢ 24Ã—7 Customer Support &nbsp;&nbsp;&nbsp;&nbsp;â€¢ Fast Deposit & Withdrawal &nbsp;&nbsp;&nbsp;&nbsp;
  </div>
</div>

<!-- POPUP -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h2>ðŸŽ‰ Congratulations!</h2>
    <p><strong>Game ID:</strong> <span id="mid"></span></p>
    <p><strong>You Won:</strong> <span id="mprize"></span></p>
    <p class="note">ðŸ“¸ Take a screenshot of this and send it to the browser.</p>
  </div>
</div>

<canvas id="confettiCanvas"></canvas>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const prizes = ["â‚¹100","â‚¹200","â‚¹300","â‚¹400","â‚¹500"];
const colors = ["#ef4444","#f59e0b","#22c55e","#3b82f6","#a855f7"];
const total = prizes.length;
const arc = (2*Math.PI)/total;
let startAngle = 0;

function drawWheel(){
  const r = canvas.width/2;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=0;i<total;i++){
    const angle = startAngle + i*arc;
    ctx.beginPath();
    ctx.moveTo(r,r);
    ctx.arc(r,r,r,angle,angle+arc);
    ctx.fillStyle = colors[i];
    ctx.fill();
    ctx.strokeStyle="#fff";
    ctx.stroke();

    ctx.save();
    ctx.translate(r,r);
    ctx.rotate(angle+arc/2);
    ctx.textAlign="right";
    ctx.fillStyle="#fff";
    ctx.font="bold 18px Arial";
    ctx.fillText(prizes[i], r-20, 6);
    ctx.restore();
  }
}
drawWheel();

function spinWheel(){
  const name=document.getElementById("name").value.trim();
  const phone=document.getElementById("phone").value.trim();
  if(!name) return alert("Enter Game ID");
  if(!/^[6-9]\d{9}$/.test(phone)) return alert("Invalid phone number");

  const prizeIndex = Math.floor(Math.random()*total);
  const targetAngle = (3*Math.PI/2) - (prizeIndex*arc) - arc/2;
  const spins = 6*2*Math.PI;
  const finalAngle = spins + targetAngle;

  const start = performance.now();
  const duration = 4200;
  const initial = startAngle;

  function sendToGoogleSheet(gameId, phone, prize) {
  const now = new Date();

  const date = now.toLocaleDateString("en-GB"); 
  const time = now.toLocaleTimeString("en-US", {
    hour: "numeric",
    minute: "2-digit",
    second: "2-digit",
    hour12: true
  });

  fetch(, {
    method: "POST",
    body: JSON.stringify({
      date: date,
      gameId: gameId,
      phone: phone,
      prize: prize,
      time: time
    })
  }).catch(err => console.error("Sheet Error", err));
}

  function animate(t){
    const p = Math.min((t-start)/duration,1);
    const ease = 1 - Math.pow(1-p,3);
    startAngle = initial + finalAngle*ease;
    drawWheel();
    if(p<1) requestAnimationFrame(animate);
    else{
      startAngle%=2*Math.PI;
      document.getElementById("mid").innerText=name;
      document.getElementById("mprize").innerText=prizes[prizeIndex];
      document.getElementById("modal").classList.add("active");
      launchConfetti();
    }
  }
  requestAnimationFrame(animate);
}

/* CONFETTI */
const confettiCanvas=document.getElementById("confettiCanvas");
const cctx=confettiCanvas.getContext("2d");
confettiCanvas.width=innerWidth;
confettiCanvas.height=innerHeight;

function launchConfetti(){
  const pieces=[];
  const colors=["#ffd60a","#ffbe0b","#fb8500","#ff006e","#facc15"];

  for(let i=0;i<160;i++){
    pieces.push({
      x: Math.random() * innerWidth,
      y: Math.random() * -innerHeight,
      w: Math.random() * 6 + 4,   // stripe width
      h: Math.random() * 14 + 10, // stripe height
      speed: Math.random() * 3 + 2,
      angle: Math.random() * 360,
      rotation: Math.random() * 6 - 3,
      color: colors[Math.floor(Math.random()*colors.length)]
    });
  }

  (function draw(){
    cctx.clearRect(0,0,innerWidth,innerHeight);

    pieces.forEach((p,i)=>{
      cctx.save();
      cctx.translate(p.x, p.y);
      cctx.rotate(p.angle * Math.PI / 180);
      cctx.fillStyle = p.color;
      cctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      cctx.restore();

      p.y += p.speed;
      p.angle += p.rotation;

      if(p.y > innerHeight) pieces.splice(i,1);
    });

    if(pieces.length) requestAnimationFrame(draw);
  })();
}
</script>

</body>
</html>
